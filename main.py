import streamlit as st
import random

# 1. 코디 데이터 (간단 샘플 - 나중에 확장 가능)
tops = {
    "남성": {
        "봄": {
            "톤온톤": ["연베이지 셔츠", "크림 니트"],
            "무채색": ["검정 맨투맨", "회색 셔츠"],
            "파스텔": ["파스텔 블루 셔츠", "라일락 니트"],
            "원색": ["빨간 후드", "파란 바람막이"]
        },
        "여름": {
            "톤온톤": ["연회색 반팔 셔츠", "연청 반팔티"],
            "무채색": ["검정 나시", "흰색 린넨 셔츠"],
            "파스텔": ["연분홍 티", "하늘색 반팔"],
            "원색": ["노란 티셔츠", "강렬한 빨강 셔츠"]
        },
        # 가을/겨울도 유사하게 추가 가능
    },
    "여성": {
        "봄": {
            "톤온톤": ["크림색 가디건", "베이지 블라우스"],
            "무채색": ["흰색 셔츠", "블랙 니트"],
            "파스텔": ["민트 블라우스", "연보라 니트"],
            "원색": ["선홍색 티", "파란 데님 셔츠"]
        },
        "여름": {
            "톤온톤": ["라이트 그레이 나시", "연노랑 블라우스"],
            "무채색": ["검정 민소매", "흰 린넨 블라우스"],
            "파스텔": ["연핑크 나시", "하늘색 티셔츠"],
            "원색": ["형광 노랑 티", "레드 탱크탑"]
        },
    }
}

bottoms = {
    "남성": {
        "봄": {
            "톤온톤": ["베이지 치노팬츠", "크림 면바지"],
            "무채색": ["검정 슬랙스", "회색 조거팬츠"],
            "파스텔": ["파스텔 블루 반바지", "연한 라벤더 슬랙스"],
            "원색": ["빨강 반바지", "파란 트레이닝 팬츠"]
        },
        "여름": {
            "톤온톤": ["연청 반바지", "베이지 반바지"],
            "무채색": ["검정 반바지", "흰색 면바지"],
            "파스텔": ["하늘색 반바지", "연보라 스커트"],
            "원색": ["강렬한 레드 반바지", "노란 트레이닝 팬츠"]
        },
    },
    "여성": {
        "봄": {
            "톤온톤": ["베이지 롱스커트", "크림 팬츠"],
            "무채색": ["검정 미니스커트", "회색 슬랙스"],
            "파스텔": ["민트 스커트", "라일락 팬츠"],
            "원색": ["강렬한 블루 스커트", "레드 팬츠"]
        },
        "여름": {
            "톤온톤": ["연청 숏팬츠", "연노랑 스커트"],
            "무채색": ["흰색 숏팬츠", "검정 롱스커트"],
            "파스텔": ["하늘색 미니스커트", "연핑크 반바지"],
            "원색": ["원색 스커트", "형광 트레이닝 팬츠"]
        },
    }
}

# 2. 추천 함수
def recommend_outfit(situation, gender, season, tone):
    tops_list = tops.get(gender, {}).get(season, {}).get(tone, [])
    bottoms_list = bottoms.get(gender, {}).get(season, {}).get(tone, [])

    if not tops_list or not bottoms_list:
        return "추천할 아이템이 부족해요 🥲", "추천할 아이템이 부족해요 🥲"

    top = random.choice(tops_list)
    bottom = random.choice(bottoms_list)

    return top, bottom

# 3. Streamlit UI
st.title("🎽 상황별 옷 코디 추천기")

situation = st.text_input("상황을 입력하세요", placeholder="예: 데이트, 면접, 나들이")
gender = st.radio("성별을 선택하세요", ["남성", "여성"])
season = st.selectbox("계절을 선택하세요", ["봄", "여름"])
tone = st.selectbox("색감 톤을 선택하세요", ["톤온톤", "무채색", "파스텔", "원색"])

if st.button("코디 추천받기"):
    top, bottom = recommend_outfit(situation, gender, season, tone)
    st.subheader("✨ 추천 코디 결과")
    st.write(f"**상의:** {top}")
    st.write(f"**하의:** {bottom}")
